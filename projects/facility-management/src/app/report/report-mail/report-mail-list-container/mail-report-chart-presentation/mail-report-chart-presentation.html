<!-- Report Chart Area -->
<div class="card overflow-hidden">
  <div class="card-body p-3 position-relative bg-white {{isFullScreenChart ? 'd-flex flex-column full-screen' : ''}}"
    #content>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h6 class="mb-0 text-dark">Packages</h6>

      <div class="d-flex align-items-center">
        <div class="chart-legend d-flex align-items-center mr-2">
          <div class="d-flex align-items-center">
            <span class="badge badge-icon badge-green flex-shrink-0 mr-2 p-0"></span>
            <label class="d-flex flex-grow-1 justify-content-between align-items-center legend font-weight-medium mb-0">
              <span class="mr-3 flex-grow-1">Open Packages</span>
            </label>
          </div>
          <div class="d-flex align-items-center">
            <span class="badge badge-icon badge-blue flex-shrink-0 mr-2 p-0"></span>
            <label class="d-flex flex-grow-1 justify-content-between align-items-center legend font-weight-medium mb-0">
              <span class="mr-3 flex-grow-1">Delivered</span>
            </label>
          </div>
          <div class="d-flex align-items-center">
            <span class="badge badge-icon badge-orange flex-shrink-0 mr-2 p-0"></span>
            <label class="d-flex flex-grow-1 justify-content-between align-items-center legend font-weight-medium mb-0">
              <span class="mr-3 flex-grow-1">Attempted</span>
            </label>
          </div>
        </div>

        <!-- Dropdown -->
        <div class="form-group mb-0">
          <ng-select [clearable]="false" [searchable]="false" [bindLabel]="'statusKey'" [bindValue]="'statusValue'"
            (change)="onStatusChange($event)" [(ngModel)]="statusOption" [items]="chartType"
            class="text-capitalize form-control ng-select-sm p-0">
          </ng-select>
        </div>
      </div>
    </div>

    <div class="flex-grow-1 overflow-hidden">
      <div #mailChartRef id="initial_chart_div" class="{{isFullScreenChart ? 'flex-grow-1' : 'h-100'}}"></div>
    </div>

    <div class="d-flex align-items-center justify-content-end pt-2">
      <!-- Next Previous Button -->
      <div *ngIf="!isFullScreenChart" class="d-flex align-items-center">
        <button [disabled]="!this.baseResponse?.length" type="button" #mailChartPrevBtn
          class="btn btn-outline-secondary btn-sm d-flex align-items-center justify-content-center mr-2"
          (click)="clickPrevButton()">
          <span class="icon icon-arrow-prev"></span>
        </button>
        <button [disabled]="!this.baseResponse?.length" type="button" #mailChartNextBtn
          class="btn btn-outline-secondary btn-sm d-flex align-items-center justify-content-center mr-2"
          (click)="clickNextButton()">
          <span class="icon icon-arrow-next"></span>
        </button>
      </div>

      <!-- Fullscreen Button -->
      <ng-container *ngIf="!isFullScreenChart">
        <button [disabled]="!this.baseResponse?.length" type="button"
          class="btn btn-outline-secondary btn-sm btn-fullscreen d-flex align-items-center justify-content-center"
          (click)="openFullscreen()">
          <span class="icon icon-fullscreen"></span>
        </button>
      </ng-container>

      <!-- Fullscreen Close Button -->
      <ng-container *ngIf="isFullScreenChart">
        <button [disabled]="!this.baseResponse?.length" type="button"
          class="btn btn-outline-secondary btn-sm btn-fullscreen d-flex align-items-center justify-content-center"
          (click)="closeFullscreen()">
          <span class="icon icon-collapse"></span>
        </button>
      </ng-container>
    </div>
  </div>
</div>
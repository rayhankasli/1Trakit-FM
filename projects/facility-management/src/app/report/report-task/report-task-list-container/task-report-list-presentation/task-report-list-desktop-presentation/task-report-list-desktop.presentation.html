<div class="overflow-y-auto overflow-x-hidden border rounded mb-3 report-task-table report-table-height">
  <table class="table data-tbl w-100 position-relative mb-0 border-0">
    <colgroup>
      <col style="width: 80px;">
      <col style="width: 110px;">
      <col style="width: 100px;">
      <col style="width: 50px;">
      <col style="width: 50px;">
      <col style="width: 180px;">
      <col style="width: 80px;">
      <col style="width: 40px">
      <col style="width: 40px">
      <col style="width: 170px;">
      <col style="width: 90px;">
    </colgroup>
    <thead class="sticky-table-header">
      <tr>
        <th>
          <span>Task Name</span>
        </th>
        <th appSortingOrder [column]="'assignedTo'" (orderType)="onSortOrder('assignedTo',$event)" scope="col"
          class="column-sort">
          <span>Assigned To</span>
        </th>
        <th appSortingOrder [column]="'createdBy'" (orderType)="onSortOrder('createdBy',$event)" scope="col"
          class="column-sort">
          <span>Created By</span>
        </th>
        <th>
          <span>Location</span>
        </th>
        <th appSortingOrder [column]="'priority'" (orderType)="onSortOrder('priority',$event)" scope="col"
          class="column-sort">
          <span>Priority</span>
        </th>
        <th>
          <span>Date & Time Of Completion</span>
        </th>
        <th appSortingOrder [column]="'timeliness'" (orderType)="onSortOrder('timeliness',$event)" scope="col"
          class="column-sort">
          <span>Timeliness</span>
        </th>
        <th>
          <span>Pictures</span>
        </th>
        <th appSortingOrder [column]="'status'" (orderType)="onSortOrder('status',$event)" scope="col"
          class="column-sort">
          <span>Status</span>
        </th>
        <th appSortingOrder [column]="'reasonNotCompleted'" (orderType)="onSortOrder('reasonNotCompleted',$event)"
          scope="col" class="column-sort">
          <span>Reason Not Completed</span>
        </th>
        <th>
          <span>Comments</span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let taskReport of taskReports;trackBy: trackBy.bind(this,'taskName');let i= index">
        <td class="align-center">
          {{taskReport.taskName || '-'}}</td>
        <td class="align-center">
          {{taskReport.assignedTo || '-'}}</td>
        <td class="align-center">
          {{taskReport.createdBy || '-'}}</td>
        <td class="align-center">
          {{taskReport.location || '-'}}</td>
        <td class="align-center">
          {{taskReport.priority || '-'}}</td>
        <td class="align-center">
          {{taskReport.dateTimeOfCompletion ? (taskReport.dateTimeOfCompletion | date:dateTimeFormat) : '-'}}</td>
        <td class="align-center">
          {{taskReport.timeliness}}</td>
        <td class="align-center">
          <button
            class="btn btn-link text-decoration-none d-flex align-items-center justify-content-center p-0 btn-camera"
            *ngIf="taskReport.pictures.length > 0" (click)="openGallery(taskReport.pictures)">
            <img [src]="taskReport?.pictures[0]?.systemImageName" alt="Task Image" class="task-image rounded-circle mr-1">
            <span *ngIf="taskReport.pictures.length > 1">+{{ taskReport.pictures.length - 1 }}</span>
          </button>
          <span *ngIf="taskReport.pictures.length === 0"> - </span>
        </td>
        <td class="align-center">
          {{taskReport.status}}</td>
        <td class="align-center">
          <span class="text-break">{{taskReport.reasonNotCompleted ? taskReport.reasonNotCompleted : '-'}}</span>
        </td>
        <td class="align-center">
          <span class="text-break">{{taskReport.comments ? taskReport.comments : '-'}}</span>
        </td>
      </tr>

      <!-- colspan base on total column -->
      <tr *ngIf="!taskReports || taskReports.length === 0">
        <td colspan="11" class="text-muted text-center">No record found</td>
      </tr>
    </tbody>
  </table>
</div>